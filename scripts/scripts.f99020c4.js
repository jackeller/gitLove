"use strict";angular.module("gitLoveApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/user",{templateUrl:"views/user.html",controller:"UserCtrl"}).when("/user/:userID",{templateUrl:"views/user.html",controller:"UserCtrl"}).when("/repo",{templateUrl:"views/repo.html",controller:"RepoCtrl"}).when("/repo/:repoID",{templateUrl:"views/repo.html",controller:"RepoCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("gitLoveApp").factory("mainFactory",["$http",function(a){return{getAllRepos:function(b){a.get("https://api.github.com/repositories",{}).success(function(a){b(null,a)}).error(function(a){b(a)})}}}]).controller("MainCtrl",["$scope","mainFactory",function(a,b){a.getAllRepos=function(){b.getAllRepos(function(b,c){b||(a.data=c)})},a.getAllRepos()}]),angular.module("gitLoveApp").factory("repoFactory",["$http",function(a){return{searchRepos:function(b,c){a.get("https://api.github.com/search/repositories",{params:{q:b}}).success(function(a){c(null,a)}).error(function(a){c(a)})}}}]).controller("RepoCtrl",["$scope","$routeParams","$location","$timeout","repoFactory",function(a,b,c,d,e){a.getFactoryData=function(){e.searchRepos(b.repoID,function(c,d){c||(a.repos=d.items,a.query=b.repoID)})},""!==b.repoID&&a.getFactoryData(),a.changeURL=function(a,b){c.path(b?"/"+a+"/"+b:"/"+a)}}]),angular.module("gitLoveApp").factory("userFactory",["$http",function(a){return{getCurrentUser:function(b,c){a.get("https://api.github.com/users/"+b,{}).success(function(a){c(null,a)}).error(function(a){c(a)})},getUserRepos:function(b,c){a.get(b,{}).success(function(a){c(null,a)}).error(function(a){c(a)})}}}]).controller("UserCtrl",["$scope","$routeParams","$location","userFactory",function(a,b,c,d){a.user=b.userID||"Search for a user",a.repos="",a.paramPassed=b.userID||"",a.executeSearch=function(){d.getCurrentUser(b.userID,function(b,c){b||(a.data=c,d.getUserRepos(c.repos_url,function(b,c){b||(a.repos=c)}))})},a.executeSearch(),a.changeURL=function(a,b){c.path(b?"/"+a+"/"+b:"/"+a)}}]);